{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "English",
  "scopeName": "source.english",
  "patterns": [
    { "include": "#comments" },
    { "include": "#function-definition" },
    { "include": "#function-call" },
    { "include": "#strings" },
    { "include": "#types" },
    { "include": "#booleans" },
    { "include": "#numbers" },
    { "include": "#loop-expansion" },
    { "include": "#conditional-branch" },
    { "include": "#control-keywords" },
    { "include": "#action-keywords" },
    { "include": "#io-keywords" },
    { "include": "#operators" },
    { "include": "#properties" },
    { "include": "#articles" }
  ],
  "repository": {
    "comments": {
      "name": "comment.block.english",
      "begin": "\\(",
      "end": "\\)",
      "patterns": [
        { "include": "#comments" }
      ]
    },
    "function-definition": {
      "match": "\\b(To)\\s+(\"[^\"]+\")",
      "captures": {
        "1": { "name": "storage.type.function.english" },
        "2": { "name": "entity.name.function.definition.english" }
      }
    },
    "function-call": {
      "match": "(\"[^\"]+\")\\s+(of|on)\\b",
      "captures": {
        "1": { "name": "entity.name.function.call.english" },
        "2": { "name": "punctuation.accessor.english" }
      }
    },
    "strings": {
      "name": "string.quoted.double.english",
      "begin": "\"",
      "end": "\"",
      "patterns": [
        {
          "name": "constant.character.escape.english",
          "match": "\\\\."
        }
      ]
    },
    "loop-expansion": {
      "comment": "Parameter loop expansion: 'each X from Y' - uses entity.name.tag for distinct blue color",
      "match": "\\b(each)\\b",
      "name": "entity.name.tag.each.english"
    },
    "conditional-branch": {
      "comment": "Conditional branching: 'but' keyword - uses support.type for distinct teal/cyan color",
      "match": "\\b(but)\\b",
      "name": "support.type.english"
    },
    "control-keywords": {
      "name": "keyword.control.english",
      "match": "\\b(If|if|then|Otherwise|Else|else|While|while|For|for|from|to|Return|return|Exit|exit|Break|break|Continue|continue|Repeat|repeat|times)\\b"
    },
    "action-keywords": {
      "name": "keyword.other.english",
      "match": "\\b(Print|print|Set|set|Create|create|Increment|Decrement|increment|decrement|is|are|was|treating|as|enable|disable|error|catching)\\b"
    },
    "io-keywords": {
      "name": "support.function.english",
      "match": "\\b(Open|open|Close|close|Read|read|Write|write|Delete|delete|Resize|resize|reading|writing|appending)\\b"
    },
    "types": {
      "name": "storage.type.english",
      "match": "\\b(number|text|boolean|buffer|file|float|list|newline)\\b"
    },
    "operators": {
      "name": "keyword.operator.english",
      "match": "\\b(add|subtract|multiply|divide|modulo|plus|minus|greater|less|equal|than|and|or|not)\\b"
    },
    "properties": {
      "match": "('s)\\s*(capacity|size|absolute|sign|even|odd|positive|negative|descriptor|modified|permissions|all|count|first|last)",
      "captures": {
        "1": { "name": "punctuation.accessor.english" },
        "2": { "name": "variable.other.property.english" }
      }
    },
    "articles": {
      "name": "punctuation.definition.english",
      "match": "\\b(a|an|the|called|with|of|on|at|into|for|in|bytes|size)\\b"
    },
    "booleans": {
      "name": "constant.language.boolean.english",
      "match": "\\b(true|false)\\b"
    },
    "numbers": {
      "patterns": [
        {
          "name": "constant.numeric.float.english",
          "match": "-?\\b\\d+\\.\\d+\\b"
        },
        {
          "name": "constant.numeric.integer.english",
          "match": "-?\\b\\d+\\b"
        }
      ]
    }
  }
}
